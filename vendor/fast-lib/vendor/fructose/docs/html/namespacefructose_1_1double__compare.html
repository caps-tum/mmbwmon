<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FRUCTOSE: fructose::double_compare Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&nbsp;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacefructose.html">fructose</a>      </li>
      <li><a class="el" href="namespacefructose_1_1double__compare.html">double_compare</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>fructose::double_compare Namespace Reference</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare</a> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return 0 if the specifed 'a' and 'b' have fuzzy equality (a ~eq b).  <a href="#af4f38a661288a3770c8ca785ed321883"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#a43b4aff1865fb5a4014ef346ec185e77">eq</a> (double a, double b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy equality relation (a ~eq b), and 0 otherwise.  <a href="#a43b4aff1865fb5a4014ef346ec185e77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9271fd83135721be611b12ad68ad561"></a><!-- doxytag: member="fructose::double_compare::eq" ref="aa9271fd83135721be611b12ad68ad561" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>eq</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a440a9e2fe286ac53d4cde520daa436ad"></a><!-- doxytag: member="fructose::double_compare::eq" ref="a440a9e2fe286ac53d4cde520daa436ad" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>eq</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#aecded7b554ed409c7175d452be8a11ce">ne</a> (double a, double b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy inequality relation (a ~ne b), and 0 otherwise.  <a href="#aecded7b554ed409c7175d452be8a11ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3ecdbf31c782b797cf36fe73828d901"></a><!-- doxytag: member="fructose::double_compare::ne" ref="ab3ecdbf31c782b797cf36fe73828d901" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ne</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c49f3995bf830579d4a344ff6649df0"></a><!-- doxytag: member="fructose::double_compare::ne" ref="a9c49f3995bf830579d4a344ff6649df0" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ne</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#a05f2641bbc9b8ea05293a4a41eb51c7a">lt</a> (double a, double b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy less-than relation (a ~lt b) and 0 otherwise.  <a href="#a05f2641bbc9b8ea05293a4a41eb51c7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a411ea1e3915154b6f7487aa5b732ef60"></a><!-- doxytag: member="fructose::double_compare::lt" ref="a411ea1e3915154b6f7487aa5b732ef60" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>lt</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0671e8ac45c3b179a8a0e21714575db8"></a><!-- doxytag: member="fructose::double_compare::lt" ref="a0671e8ac45c3b179a8a0e21714575db8" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>lt</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#ad075d4fde264013dbb1f5fedcb046608">le</a> (double a, double b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy less-than-or-equal-to relation (a ~le b), and 0 otherwise.  <a href="#ad075d4fde264013dbb1f5fedcb046608"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0545719e39c08b187046d12d8c85175"></a><!-- doxytag: member="fructose::double_compare::le" ref="aa0545719e39c08b187046d12d8c85175" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>le</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea77277267491c209fb68fc2f73e2486"></a><!-- doxytag: member="fructose::double_compare::le" ref="aea77277267491c209fb68fc2f73e2486" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>le</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#a95438408bbd7a9dc2c0adfada67a5a24">ge</a> (double a, double b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy greater-than-or-equal-to relation (a ~ge b), and 0 otherwise.  <a href="#a95438408bbd7a9dc2c0adfada67a5a24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bccb84f823a77bdeba140c329423bc3"></a><!-- doxytag: member="fructose::double_compare::ge" ref="a1bccb84f823a77bdeba140c329423bc3" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ge</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5f616e6ea75a5c648a59ad5334847bb"></a><!-- doxytag: member="fructose::double_compare::ge" ref="aa5f616e6ea75a5c648a59ad5334847bb" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ge</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#ad4544e0a1be66fa678aa735c6922846c">gt</a> (double a, double bl)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy greater-than relation (a ~gt b), and 0 otherwise.  <a href="#ad4544e0a1be66fa678aa735c6922846c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9a41a622f7eba3b43ab01d9391c4d1f"></a><!-- doxytag: member="fructose::double_compare::gt" ref="af9a41a622f7eba3b43ab01d9391c4d1f" args="(double a, double b, double relative_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>gt</b> (double a, double b, double relative_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec1c48f0e48c35d392c6d351e5df10cd"></a><!-- doxytag: member="fructose::double_compare::gt" ref="aec1c48f0e48c35d392c6d351e5df10cd" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>gt</b> (double a, double b, double relative_tolerance, double absolute_tolerance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#a224c51cfb1eeb646b37e278fba75c345">fabsval</a> (double input)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec95ce17ba7ac41939e9e73af8b774fe"></a><!-- doxytag: member="fructose::double_compare::relative_tolerance_default" ref="aec95ce17ba7ac41939e9e73af8b774fe" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a> = 1e-12</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default relative tolerance <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae0d2dd9eaef22f030af702fa38cdca2"></a><!-- doxytag: member="fructose::double_compare::absolute_tolerance_default" ref="aae0d2dd9eaef22f030af702fa38cdca2" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a> = 1e-24</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default absolute tolerance <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This namespace contains functions that implement "fuzzy" equality and relational operations as a set of function calls on a pair of 'double' values 'a' and 'b'. The term "fuzzy equality" expresses the concept that 'a' and 'b' are "close enough"; any difference that exists between the internal representations of 'a' and 'b' is not significant, and should be neglected for comparison purposes.</p>
<p>Fuzzy comparison operations are of general use in computing but there is nothing in the C++ standard (yet) to address this. So each project that uses floating point numbers tends to define its own. The one here is general-purpose but has been encased in the fructose namespace since it is used by fructose to provide unit test assertions for floating point numbers. The reader will notice that the functions are general enough to have wider applicability but they are (at the moment, in a namespace that is part of a unit test library). This may change in some later version of fructose, depending on any feedback from the user community. There are other ways to get these sorts of comparison functions (pending the issue being addressed by the standard and then implemented by compiler writers). Some widely-used Open Source libraries offer similar functions. For example, there are algorithms in boost such as close_at_tolerance and check_is_close. These functions exist here in order to avoid a dependency on boost.</p>
<p>There are two kinds of fuzzy comparison: comparison using fixed (aka absolute) tolerance value and comparison using relative tolerance value. Absolute tolerances are used when and b are expected to be quite close so an absolute value can be used to compare the distance between them. This technique becomes inappropriate when the values are large, e.g one million and one million and two are very close because they are within 0.002% of each other. To handle this case, relative tolerance is used. The relative difference between a and b is calculated as fabs(a-b)/average(a,b). If this is less than or equal to a relative tolerance value then a and b compare as equal. The relative tolerance value is thus similar to the absolute tolerance value in that it does not result in a comparion to within a percentage of a or b, but it does take their relative magnitudes into account. See "The Art of Computer Programming, volume 2" by Knuth, for a more detailed discussion on comparing floating point numbers.</p>
<p>Thus, using the algorithms in this namespace, 'a' and 'b' have fuzzy equality if either their relative difference is less than or equal to some user-specified or default tolerance value, or else their absolute difference is less than or equal to a separate user-specified or default tolerance value. The fuzzy inequality and relational operators are all defined with respect to fuzzy equality.</p>
<p>The table below shows how the fuzzy comparison operations map onto the function provided by this namespace: </p>
<div class="fragment"><pre class="fragment">                  N  O  T  A  T  I  O  N      O  N  L  Y
      -------------------------------------------------------------
       C++ <span class="keyword">operator</span> | fuzzy <span class="keyword">operator</span> | <span class="keyword">namespace </span>function name
      -------------------------------------------------------------
            ==      |  ~eq           |   <a class="code" href="namespacefructose_1_1double__compare.html#a43b4aff1865fb5a4014ef346ec185e77" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy equality relat...">eq</a>(a, b, abstol, reltol)
            !=      |  ~ne           |   <a class="code" href="namespacefructose_1_1double__compare.html#aecded7b554ed409c7175d452be8a11ce" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy inequality rel...">ne</a>(a, b, absrol, reltol)
            &lt;       |  ~lt           |   <a class="code" href="namespacefructose_1_1double__compare.html#a05f2641bbc9b8ea05293a4a41eb51c7a" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy less-than rela...">lt</a>(a, b, abstol, reltol)
            &lt;=      |  ~le           |   <a class="code" href="namespacefructose_1_1double__compare.html#ad075d4fde264013dbb1f5fedcb046608" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy less-than-or-e...">le</a>(a, b, abstol, reltol)
            &gt;=      |  ~ge           |   <a class="code" href="namespacefructose_1_1double__compare.html#a95438408bbd7a9dc2c0adfada67a5a24" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy greater-than-o...">ge</a>(a, b, abstol, reltol)
            &gt;       |  ~gt           |   <a class="code" href="namespacefructose_1_1double__compare.html#ad4544e0a1be66fa678aa735c6922846c" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy greater-than r...">gt</a>(a, b, abstol, reltol)
      -------------------------------------------------------------
</pre></div><p>Using the Backus-Naur notation "A := B" to mean "A is defined as B", we define the comparision algorithms as follows:</p>
<div class="fragment"><pre class="fragment">   a ~eq b := ( (a == b) ||
              ( ( fabs(a - b) &lt;= absolute_tolerance ) ||
              ( fabs(a - b) / ( fabs(a + b) / 2 ) &lt;= relative_tolerance ) ) )
   a ~ne b :=  !(a ~eq b)
   a ~lt b :=  !(a ~eq b) &amp;&amp; (a &lt; b)
   a ~le b :=   (a ~eq b) || (a &lt; b)
   a ~ge b :=   (a ~eq b) || (a &gt; b)
   a ~gt b :=  !(a ~eq b) &amp;&amp; (a &gt; b)
</pre></div><p>where fabs(double) is the standard absolute value function and other symbols have their usual C++ meaning. Note that the equality operations are symmetric.</p>
<p>The functions implemented in this class are well behaved for all values of 'relative_tolerance' and 'absolute_tolerance'. If either relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, that respective "fuzzy comparison" is suppressed. If both relative_tolerance &lt;= 0 and absolute_tolerance &lt;= 0, the six fuzzy operations behave as runtime-intensive versions of their non-fuzzy counterparts.</p>
<p>Note that the definition of fuzzy equality used in this class has one intermediate singularity. When (fabs(a - b) &gt; absolute_tolerance &amp;&amp; (a == -b)) is true, the pseudo-expression (a ~eq b) above has a zero denominator. In this case, the test for relative fuzzy equality is suppressed. Note also that this intermediate singularity does NOT lead to a special case behavior of fuzzy comparisons. By definition, the relative difference is the quotient of the absolute difference and the absolute average, so the case (a == -b) truly represents an "infinite
 relative difference", and thus fuzzy equality via the relative difference should be false (although absolute fuzzy equality may still prevail).</p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>The functions in this namespace are implemented using the definitions provided, and as such are vulnerable to the limitations of the internal representations of 'double'. In particular, if (a + b) or (a - b) cannot be represented, the functions will fail outright. As 'a' or 'b' approach the limits of precision of representation -- that "approach" being defined by the fuzzy tolerances -- the algorithms used in this namespace become increasingly unreliable. The user is responsible for determining the limits of applicability of this namespace to a given calculation, and for coding accordingly.</dd></dl>
<p>The following example tabulates the numerical results for a set of function calls to the six fuzzy comparison functions of the form </p>
<div class="fragment"><pre class="fragment">   <a class="code" href="namespacefructose_1_1double__compare.html#a43b4aff1865fb5a4014ef346ec185e77" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy equality relat...">double_compare::eq</a>(x, y, relative_tolerance, absolute_tolerance)
</pre></div><p> where 'relative_tolerance' and 'absolute_tolerance' are the relative and absolute tolerances,respectively. For convenience, the true relative difference is tabulated (to five decimal places) in the column with the heading 'diff'. </p>
<div class="fragment"><pre class="fragment">         x   |   y   |  rel  |  abs  |  diff   | eq  ne  lt  le  ge  gt
      ------------------------------------------------------------------
        99.0 | 100.0 | 0.010 | 0.001 | 0.01005 |  0   1   1   1   0   0
       100.0 |  99.0 | 0.010 | 0.001 | 0.01005 |  0   1   0   0   1   1
        99.0 | 100.0 | 0.011 | 0.001 | 0.01005 |  1   0   0   1   1   0
        99.0 | 100.0 | 0.010 | 0.990 | 0.01005 |  0   1   1   1   0   0
        99.0 | 100.0 | 0.010 | 1.000 | 0.01005 |  1   0   0   1   1   0
      ------------------------------------------------------------------
       100.0 | 101.0 | 0.009 | 0.001 | 0.00995 |  0   1   1   1   0   0
       101.0 | 100.0 | 0.009 | 0.001 | 0.00995 |  0   1   0   0   1   1
       100.0 | 101.0 | 0.010 | 0.001 | 0.00995 |  1   0   0   1   1   0
       100.0 | 101.0 | 0.009 | 0.990 | 0.00995 |  0   1   1   1   0   0
       100.0 | 101.0 | 0.009 | 1.000 | 0.00995 |  1   0   0   1   1   0
</pre></div><p>Here are some notes on usage: Given a 'double' value 'x' and two functions 'f' and 'g' each taking one 'double' and returning 'double':</p>
<div class="fragment"><pre class="fragment">       <span class="keywordtype">double</span> g(<span class="keywordtype">double</span> x);
</pre></div><p>we can do something if the two functions, each evaluated at 'x', are not close enough by our own explicit criteria.</p>
<div class="fragment"><pre class="fragment">   <span class="keywordflow">if</span> (<a class="code" href="namespacefructose_1_1double__compare.html#aecded7b554ed409c7175d452be8a11ce" title="Return a non-zero value if the specified &amp;#39;a&amp;#39; and &amp;#39;b&amp;#39; satisfy the fuzzy inequality rel...">double_compare::ne</a>(f(x), g(x), 1e-8))
   {
       doSomething();
   }
</pre></div> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="a43b4aff1865fb5a4014ef346ec185e77"></a><!-- doxytag: member="fructose::double_compare::eq" ref="a43b4aff1865fb5a4014ef346ec185e77" args="(double a, double b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::eq </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy equality relation (a ~eq b), and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality. If optional parameters are not specified, reasonable implementation-dependent default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
<a class="anchor" id="a224c51cfb1eeb646b37e278fba75c345"></a><!-- doxytag: member="fructose::double_compare::fabsval" ref="a224c51cfb1eeb646b37e278fba75c345" args="(double input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fructose::double_compare::fabsval </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>input</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the absolute value of the specified 'input'. This is used instead of std::fabs to avoid a dependency on the math library. </p>

<p>Referenced by <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>.</p>

</div>
</div>
<a class="anchor" id="af4f38a661288a3770c8ca785ed321883"></a><!-- doxytag: member="fructose::double_compare::fuzzy_compare" ref="af4f38a661288a3770c8ca785ed321883" args="(double a, double b, double relative_tolerance, double absolute_tolerance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fructose::double_compare::fuzzy_compare </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>relative_tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>absolute_tolerance</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return 0 if the specifed 'a' and 'b' have fuzzy equality (a ~eq b). </p>
<p>Otherwise, return a positive value if a &gt; b, or a negative value if a &lt; b. This is analogous to the return value of strcmp, which allow easy implementation of all the numerical comparison operations in terms of fuzzy_compare. Fuzzy equality between 'a' and 'b' is defined in terms of the specified 'relative_tolerance' and 'absolute_tolerance' such that the expression </p>
<div class="fragment"><pre class="fragment">      (a == b) || fabs(a - b) &lt;= absolute_tolerance ||
      (fabs(a - b) / fabs((a + b) / 2.0)) &lt;= relative_tolerance)
     *
</pre></div><p> evaluates to 'true'. As a consequence of this definition of relative difference, the special case of (a == -b &amp;&amp; a != 0) is treated as the maximum relative difference: no value of 'relative_tolerance' can force fuzzy equality (although an appropriate value of 'absolute_tolerance' can). If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. Note that although this function may be called directly, its primary purpose is to implement the fuzzy quasi-boolean equality and relational functions named 'eq', 'ne', 'lt', 'le', 'ge', and 'gt', corresponding to the operators '==', '!=', '&lt;', '&lt;=', '&gt;=', and '&gt;', respectively. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#a224c51cfb1eeb646b37e278fba75c345">fabsval()</a>.</p>

<p>Referenced by <a class="el" href="namespacefructose_1_1double__compare.html#a43b4aff1865fb5a4014ef346ec185e77">eq()</a>, <a class="el" href="namespacefructose_1_1double__compare.html#a95438408bbd7a9dc2c0adfada67a5a24">ge()</a>, <a class="el" href="namespacefructose_1_1double__compare.html#ad4544e0a1be66fa678aa735c6922846c">gt()</a>, <a class="el" href="namespacefructose_1_1double__compare.html#ad075d4fde264013dbb1f5fedcb046608">le()</a>, <a class="el" href="namespacefructose_1_1double__compare.html#a05f2641bbc9b8ea05293a4a41eb51c7a">lt()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aecded7b554ed409c7175d452be8a11ce">ne()</a>.</p>

</div>
</div>
<a class="anchor" id="a95438408bbd7a9dc2c0adfada67a5a24"></a><!-- doxytag: member="fructose::double_compare::ge" ref="a95438408bbd7a9dc2c0adfada67a5a24" args="(double a, double b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::ge </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy greater-than-or-equal-to relation (a ~ge b), and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality. If optional parameters are not specified, default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
<a class="anchor" id="ad4544e0a1be66fa678aa735c6922846c"></a><!-- doxytag: member="fructose::double_compare::gt" ref="ad4544e0a1be66fa678aa735c6922846c" args="(double a, double bl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::gt </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>bl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy greater-than relation (a ~gt b), and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality.If optional parameters are not specified, reasonable implementation-dependent default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
<a class="anchor" id="ad075d4fde264013dbb1f5fedcb046608"></a><!-- doxytag: member="fructose::double_compare::le" ref="ad075d4fde264013dbb1f5fedcb046608" args="(double a, double b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::le </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy less-than-or-equal-to relation (a ~le b), and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality. If optional parameters are not specified, reasonable implementation-dependent default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
<a class="anchor" id="a05f2641bbc9b8ea05293a4a41eb51c7a"></a><!-- doxytag: member="fructose::double_compare::lt" ref="a05f2641bbc9b8ea05293a4a41eb51c7a" args="(double a, double b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::lt </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy less-than relation (a ~lt b) and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality. If optional parameters are not specified, reasonable implementation- dependent default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
<a class="anchor" id="aecded7b554ed409c7175d452be8a11ce"></a><!-- doxytag: member="fructose::double_compare::ne" ref="aecded7b554ed409c7175d452be8a11ce" args="(double a, double b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fructose::double_compare::ne </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a non-zero value if the specified 'a' and 'b' satisfy the fuzzy inequality relation (a ~ne b), and 0 otherwise. </p>
<p>Optionally specify the relative tolerance 'relative_tolerance', or 'relative_tolerance' and the absolute tolerance 'absolute_tolerance', used to determine fuzzy equality. If optional parameters are not specified, reasonable implementation-dependent default tolerances are used. If relative_tolerance &lt;= 0 or absolute_tolerance &lt;= 0, the respective aspect of fuzzy comparison is suppressed, but the function is still valid. </p>

<p>References <a class="el" href="namespacefructose_1_1double__compare.html#aae0d2dd9eaef22f030af702fa38cdca2">absolute_tolerance_default</a>, <a class="el" href="namespacefructose_1_1double__compare.html#af4f38a661288a3770c8ca785ed321883">fuzzy_compare()</a>, and <a class="el" href="namespacefructose_1_1double__compare.html#aec95ce17ba7ac41939e9e73af8b774fe">relative_tolerance_default</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon May 28 2012 18:30:11 for FRUCTOSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
